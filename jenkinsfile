pipeline {
    agent {label 'SPC_MAVEN'}
    stage('vcs'){
        steps{
            git url: 'https://github.com/archanaraj-m/dummyspring.git',
                branch:'declarative'
             }
        }
        stage('package'){
            tools{
                jdk 'JDK_17_UBUNTU'
            }
        steps{
            sh 'mvn package'
        }
    }
stage('build'){
    steps{
       archiveArtifacts artifacts: '**/spring-petclinic/target/spring-petclinic-3.0.0-SNAPSHOT.jar',
                                 onlyIfSuccessful: true
                junit testResults: '**/test-*.xml'
            } 
    }

